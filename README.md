## Installation
The files in this repo have only been tested with a local minikube cluster, but should general enough to work more or less in any vanilla Kubernetes.

To set things up do the following:

1) Install the novus configured ArgoCD:
```sh
helm upgrade -i -n argocd --create-namespace --dependency-update argocd k8s-components/novus-argocd
```

2) Install the Novus ArgoCD projects
```sh
helm upgrade -i -n argocd --create-namespace --dependency-update argocd-projects k8s-components/novus-argocd-projects
```

3) Install the Novus configured Kuverno
```sh
helm upgrade -i -n kyverno --create-namespace --dependency-update kyverno k8s-components/novus-kyverno
```

4) Install the Kyverno policies that we tell Kyverno to actually do its thing. These are located in runtime-template. Two rules that will generate resources (generate-*) and one rule to slightly modify any application resource that our users add (mutate-*)
```sh
helm upgrade -i -n kyverno --dependency-update novus-runtime runtime-template
```

5) Get the autogenerated default password for the ArgoCD admin account. Use this to login to the argocd interface or when using the CLI
```sh
kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath="{.data.password}" | base64 -d; echo
```

In the runtime-instances folder there are two example namespaces tagged and ready to deploy to test it all.
